import{r as l,K as g,j as e,$ as h}from"./app-BI5VVEiV.js";import{d as j}from"./index-dTovFntV.js";const N=()=>{const[s,d]=l.useState({name:"",title:"",email:"",facebook:"",instagram:"",twitter:"",linkedin:"",image:""}),{errors:u}=g().props,[a,x]=l.useState(null),[c,m]=l.useState(null);l.useEffect(()=>{if(!a){m(null);return}const r=URL.createObjectURL(a);return m(r),()=>URL.revokeObjectURL(r)},[a]);const t=r=>{const{name:n,value:o,files:i,type:f}=r.target;f==="file"?x(i[0]||null):d(p=>({...p,[n]:o}))},b=r=>{r.preventDefault();const n=new FormData;Object.entries(s).forEach(([o,i])=>{n.append(o,i)}),a&&n.append("image",a),j.Inertia.post("/speakers",n,{preserveScroll:!0,onError:()=>window.scrollTo({top:0,behavior:"smooth"})})};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow mt-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Добавить спикера"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Имя ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:t,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название (title)"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook"}),e.jsx("input",{type:"url",name:"facebook",value:s.facebook,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram"}),e.jsx("input",{type:"url",name:"instagram",value:s.instagram,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter"}),e.jsx("input",{type:"url",name:"twitter",value:s.twitter,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),e.jsx("input",{type:"url",name:"linkedin",value:s.linkedin,onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Изображение"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:t,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"}),u.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.image}),c&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:c,alt:"Preview",className:"h-32 w-auto rounded"})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Создать"}),e.jsx(h,{href:"/speakers",className:"text-gray-600 hover:text-gray-800 underline",children:"Назад к списку"})]})]})]})};export{N as default};
