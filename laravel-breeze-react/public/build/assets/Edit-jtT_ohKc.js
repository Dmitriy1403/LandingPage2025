import{K as f,r as m,j as e,$ as b}from"./app-BI5VVEiV.js";import{d as j}from"./index-dTovFntV.js";function g(){var d;const{ticket:t,errors:l}=f().props,[n,i]=m.useState({title:(t==null?void 0:t.title)??"",price:(t==null?void 0:t.price)??"",features:(d=t==null?void 0:t.features)!=null&&d.length?t.features:[""]});m.useEffect(()=>{var s;t&&i({title:t.title,price:t.price,features:(s=t.features)!=null&&s.length?t.features:[""]})},[t]);const u=s=>{const{name:a,value:r}=s.target;i(c=>({...c,[a]:r}))},o=(s,a)=>{const r=[...n.features];r[s]=a.target.value,i(c=>({...c,features:r}))},x=()=>{i(s=>({...s,features:[...s.features,""]}))},h=s=>{i(a=>({...a,features:a.features.filter((r,c)=>c!==s)||[""]}))},p=s=>{s.preventDefault(),j.Inertia.put(`/tickets/${t.id}`,n)};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white shadow rounded mt-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Редактировать билет"}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium",children:"Название"}),e.jsx("input",{type:"text",name:"title",value:n.title,onChange:u,className:"w-full border px-3 py-2 rounded"}),l.title&&e.jsx("div",{className:"text-red-600 text-sm",children:l.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium",children:"Цена"}),e.jsx("input",{type:"number",name:"price",value:n.price,onChange:u,className:"w-full border px-3 py-2 rounded"}),l.price&&e.jsx("div",{className:"text-red-600 text-sm",children:l.price})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium",children:"Функции"}),n.features.map((s,a)=>e.jsxs("div",{className:"mb-2 flex items-center",children:[e.jsx("input",{type:"text",value:s,onChange:r=>o(a,r),className:"flex-grow border px-3 py-2 rounded"}),e.jsx("button",{type:"button",onClick:()=>h(a),className:"ml-2 text-red-500 hover:text-red-700",title:"Удалить функцию",children:"×"})]},a)),e.jsx("button",{type:"button",onClick:x,className:"text-blue-600 hover:text-blue-800 underline",children:"Добавить функцию"}),l.features&&e.jsx("div",{className:"text-red-600 text-sm",children:l.features})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Обновить"}),e.jsx(b,{href:"/tickets",className:"text-blue-600 hover:text-blue-800 underline",children:"Назад"})]})]})]})}export{g as default};
