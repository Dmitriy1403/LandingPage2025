import{K as p,r as d,j as e,$ as b}from"./app-2kuM716s.js";import{d as g}from"./index-CvpIeCHm.js";const j=()=>{const{speaker:s,errors:c}=p().props,[a,r]=d.useState({name:"",title:"",email:"",facebook:"",instagram:"",twitter:"",linkedin:"",image:null}),[i,o]=d.useState(null);d.useEffect(()=>{s&&(r({name:s.name||"",title:s.title||"",email:s.email||"",facebook:s.facebook||"",instagram:s.instagram||"",twitter:s.twitter||"",linkedin:s.linkedin||"",image:null}),o(null))},[s]);const n=l=>{r(t=>({...t,[l.target.name]:l.target.value}))},u=l=>{const t=l.target.files[0];r(m=>({...m,image:t||null})),o(t?URL.createObjectURL(t):null)},x=l=>{l.preventDefault();const t=new FormData;t.append("_method","PUT"),t.append("name",a.name),t.append("title",a.title),t.append("email",a.email),t.append("facebook",a.facebook),t.append("instagram",a.instagram),t.append("twitter",a.twitter),t.append("linkedin",a.linkedin),a.image&&t.append("image",a.image),g.Inertia.post(`/speakers/${s.id}`,t,{headers:{"Content-Type":"multipart/form-data"},onError:m=>{console.log("Validation errors",m)}})};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow mt-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Редактировать спикера"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Имя ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:n,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"}),c.name&&e.jsxs("div",{className:"text-red-600 text-sm",children:[c.name," "]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Название (title)"}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook"}),e.jsx("input",{type:"url",name:"facebook",value:a.facebook,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram"}),e.jsx("input",{type:"url",name:"instagram",value:a.instagram,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter"}),e.jsx("input",{type:"url",name:"twitter",value:a.twitter,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),e.jsx("input",{type:"url",name:"linkedin",value:a.linkedin,onChange:n,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),s.image&&!i&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Текущее фото:"}),e.jsx("img",{className:"w-40 h-40 object-cover rounded border mb-2",src:`/img/speakers/${s.image}`,alt:"Текущее фото"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Новое фото (при загрузке будет заменено):"}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"}),i&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Предпросмотр нового фото:"}),e.jsx("img",{className:"w-40 h-40 object-cover rounded border",src:i,alt:"Новое фото"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:e.jsx(b,{href:"/speakers",children:"Назад к списку"})}),e.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Обновить"})]})]})]})};export{j as default};
